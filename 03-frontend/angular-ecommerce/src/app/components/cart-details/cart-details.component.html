<div class="main-content container-fluid detail-content cart-content">
  <div class="section-content-p30">
    <div class="row" *ngIf="numItems > 0">
      <div class="col-lg-9">
        <h3>Your cart</h3>
        <div class="row">
          <div class="col-md-6 item-box" *ngFor="let item of cartItems">
            <div class="row">
              <div class="col-md-6">
                <a href="/products/{{ item.id }}">
                  <img
                    src="{{ item.imageUrl }}"
                    class="img-fluid rounded wiggle"
                    alt="{{ item.name }}"
                  />
                </a>
              </div>
              <div class="col-md-6">
                <a href="/products/{{ item.id }}">
                  <h4>{{ item.name }}</h4>
                </a>
                <p class="price">{{ item.unitPrice | currency : "USD" }}</p>
                <div class = "quantity-wrapper">
                  <h5>Qty</h5>
                  <div class="quantity">
                    <button
                      (click)="decrementQuantity(+quantity.innerHTML)"
                      id="decrement"
                      type="button"
                    >
                      -
                    </button>
                    <span class="num" #quantity>{{ item.quantity }}</span>
                    <button
                      (click)="incrementQuantity(+quantity.innerHTML)"
                      id="increment"
                      type="button"
                    >
                      +
                    </button>
                  </div>
                </div>
                <button class = "rm-item" (click)="removeItem(item)">Remove</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-3">
        <h4>Order summary</h4>

        <hr />
        <div class="row summary" style="align-items: center">
          <div class="col-md-9">
            <h5>Subtotal ({{ numItems }} items)</h5>
          </div>
          <div class="col-md-3">
            <p>{{ subTotal | currency : "USD" }}</p>
          </div>
        </div>
        <hr />
        <div class="row">
          <div class="col-md-9"><h5>Shipping</h5></div>
          <div class="col-md-3">
            <p>{{ shipping | currency : "USD" }}</p>
          </div>
        </div>
        <hr />
        <div class="row">
          <div class="col-md-9"><h5>Tax (3%)</h5></div>
          <div class="col-md-3">
            <p>{{ tax | currency : "USD" }}</p>
          </div>
        </div>
        <hr />
        <div class="row">
          <div class="col-md-9"><h5>Total</h5></div>
          <div class="col-md-3">
            <h5 style="color: #f29d7e">{{ total | currency : "USD" }}</h5>
          </div>
        </div>
      </div>
      <a routerLink="/products" class="mt-5">Back to Shopping</a>
    </div>

    <div class="row" *ngIf="numItems == 0">
      <h3>Your cart is empty</h3>
      <a routerLink="/products" class="mt-5">Back to Shopping</a>
    </div>
  </div>
</div>
